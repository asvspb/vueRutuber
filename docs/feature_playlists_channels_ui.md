# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏—á–∏: –ü–ª–µ–π–ª–∏—Å—Ç—ã (—Å–ª–µ–≤–∞) –∏ –ö–∞–Ω–∞–ª—ã (—Å–≤–µ—Ä—Ö—É) + –ò–º–ø–æ—Ä—Ç 100 –≤–∏–¥–µ–æ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞ Rutube

–¶–µ–ª—å: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≥–¥–µ —Å–ª–µ–≤–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Å–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤, —Å–≤–µ—Ä—Ö—É ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞–Ω–∞–ª–∞–º, –∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ ‚Äî –≤–∏–¥–µ–æ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–∏/–∏–ª–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–Ω–∞–ª—É). –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –∏–∑ –Ω–æ–≤–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞: –≤–∑—è—Ç—å –ø–µ—Ä–≤—ã–µ 100 –≤–∏–¥–µ–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —Å—Å—ã–ª–∫–µ: https://rutube.ru/plst/707635/

---

## 1. –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:
- Frontend (Vue 3 + Vuetify 3):
  - –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: —Å–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
  - –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å: –∫–∞—Ä—É—Å–µ–ª—å/—Å—Ç—Ä–æ–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ (—Ñ–∏–ª—å—Ç—Ä)
  - –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å: –≥—Ä–∏–¥ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–∏–¥–µ–æ
  - –ú–∞—Ä—à—Ä—É—Ç—ã –≤–∏–¥–∞: `/playlists/:playlistId?channelId=:channelId` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ deep-linking)
- Backend (FastAPI):
  - –ú–æ–¥–µ–ª–∏: Playlist, Channel, Movie, —Å–≤—è–∑–∏ Many-to-Many (Movie‚ÄìPlaylist), Many-to-One (Movie‚ÄìChannel)
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤, –∫–∞–Ω–∞–ª–æ–≤, –≤–∏–¥–µ–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - –°–∫—Ä–∞–ø–µ—Ä Rutube: –∏–º–ø–æ—Ä—Ç–µ—Ä –ø–ª–µ–π–ª–∏—Å—Ç–∞ (100 –≤–∏–¥–µ–æ), –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π Channel/Movie
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL):
  - –¢–∞–±–ª–∏—Ü—ã: playlists, channels, movies, playlist_movies (—Å–≤—è–∑—É—é—â–∞—è)
  - –ò–Ω–¥–µ–∫—Å—ã –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å—Ç–æ–ª–±—Ü–∞–º (ids, slugs, channel_added_at, created_at)
- –ö—ç—à (Redis, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –∏ –∫–∞–Ω–∞–ª–æ–≤

---

## 2. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–ë–î)

–ù–æ–≤—ã–µ/—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
- Playlist
  - id (PK)
  - rutube_id (—Å—Ç—Ä–æ–∫–∞, —É–Ω–∏–∫–∞–ª—å–Ω–∞—è) ‚Äî ID –ø–ª–µ–π–ª–∏—Å—Ç–∞ –Ω–∞ Rutube
  - title
  - description (nullable)
  - image_url (nullable)
  - is_active (bool, default true)
  - created_at (ts)
- Channel
  - id (PK)
  - rutube_id (—Å—Ç—Ä–æ–∫–∞, —É–Ω–∏–∫–∞–ª—å–Ω–∞—è) ‚Äî ID –∫–∞–Ω–∞–ª–∞ –Ω–∞ Rutube
  - title
  - description (nullable)
  - avatar_url (nullable)
  - is_active (bool)
  - created_at (ts)
- Movie (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏)
  - id (PK)
  - title, year, image_url, thumbnail_url, views, duration, description, genre, rating, is_active
  - source_url
  - added_at (ts) ‚Äî —É–∂–µ –µ—Å—Ç—å
  - channel_added_at (ts with tz, nullable, indexed) ‚Äî –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∫–∞–Ω–∞–ª–µ (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç)
  - channel_id (FK -> channels.id, nullable=False) ‚Äî –Ω–æ–≤—ã–π –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á
  - rutube_video_id (—Å—Ç—Ä–æ–∫–∞, —É–Ω–∏–∫–∞–ª—å–Ω–∞—è) ‚Äî ID –≤–∏–¥–µ–æ –Ω–∞ Rutube (–¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
- –°–≤—è–∑—É—é—â–∞—è: playlist_movies
  - playlist_id (FK -> playlists.id)
  - movie_id (FK -> movies.id)
  - PRIMARY KEY (playlist_id, movie_id)

–ò–Ω–¥–µ–∫—Å—ã:
- IX playlists.rutube_id, IX channels.rutube_id, IX movies.rutube_video_id
- IX movies.channel_id, IX movies.channel_added_at
- IX playlist_movies.playlist_id, IX playlist_movies.movie_id

–ú–∏–≥—Ä–∞—Ü–∏–∏:
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã playlists, channels, playlist_movies
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–Ω—ã movies.channel_id, movies.rutube_video_id (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å)

---

## 3. –°–∫—Ä–∞–ø–µ—Ä/–ò–º–ø–æ—Ä—Ç–µ—Ä Rutube (–ø–ª–µ–π–ª–∏—Å—Ç ‚Üí 100 –≤–∏–¥–µ–æ)

–ó–∞–¥–∞—á–∏:
- –ü–æ —Å—Å—ã–ª–∫–µ https://rutube.ru/plst/707635/ –≤—ã–¥–µ–ª–∏—Ç—å ID –ø–ª–µ–π–ª–∏—Å—Ç–∞: `707635`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Rutube API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∏–¥–µ–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è) –¥–æ 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
  - –ü—Ä–∏–º–µ—Ä–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, —É—Ç–æ—á–Ω–∏—Ç—å –ø–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏/–∏–Ω—Å–ø–µ–∫—Ü–∏–∏ —Å–µ—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ):
    - `GET https://rutube.ru/api/playlist/{playlist_id}/?page=1&page_size=100`
    - –õ–∏–±–æ `GET https://rutube.ru/api/video/playlist/{playlist_id}/?page=1&page_size=100`
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ –ø–æ–ª—É—á–∏—Ç—å:
  - rutube_video_id, title, description, duration, hits (views), thumbnail_url, channel info (id, title, avatar), created_ts (‚Üí channel_added_at), year (–∏–∑ created_ts)
  - source_url (rutube watch url)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
  - Upsert Channel –ø–æ rutube_id
  - Upsert Movie –ø–æ rutube_video_id
    - –ï—Å–ª–∏ –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å: –∑–∞–ø–æ–ª–Ω—è–µ–º –≤—Å–µ –ø–æ–ª—è (–≤–∫–ª—é—á–∞—è channel_id, channel_added_at)
    - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: –æ–±–Ω–æ–≤–ª—è–µ–º –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è (views, thumbnail, description –∏ —Ç.–¥.), channel_added_at –Ω–µ –∑–∞—Ç–∏—Ä–∞–µ–º, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å
  - Upsert Playlist –ø–æ rutube_id –∏ title
  - Ensure —Å–≤—è–∑—å Movie ‚Üî Playlist –≤ playlist_movies
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 100 –≤–∏–¥–µ–æ: –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å page_size=100 (–µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ 50/20 –¥–æ —Å—É–º–º–∞—Ä–Ω–æ 100)

API backend –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:
- `POST /api/playlists/import?rutube_playlist_url=...&limit=100`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è URL, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ playlist_id
  - –ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏–º–ø–æ—Ä—Ç–∞
  - –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ç—É—Å–∞/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–∫–æ–ª-–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ)

–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:
- –ü–æ rutube_video_id –∏ rutube_id –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏—Å–∫–ª—é—á–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã

–û—à–∏–±–∫–∏/—Ä–µ—Ç—Ä–∞–∏:
- Rate limit ‚Äî backoff (–Ω–∞–ø—Ä–∏–º–µ—Ä, 250‚Äì500 –º—Å –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)
- –ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –≤–∏–¥–µ–æ, –æ–±—â–∏–π –æ—Ç—á—ë—Ç

---

## 4. Backend API (—á–µ—Ä–Ω–æ–≤–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)

Playlists:
- `GET  /api/playlists` ‚Üí [{ id, title, image_url, videos_count }]
- `GET  /api/playlists/{id}` ‚Üí { id, title, description, image_url, videos_count }
- `GET  /api/playlists/{id}/videos?channelId=&skip=0&limit=24&order=-channel_added_at`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Movie, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –∫–∞–Ω–∞–ª—É (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω), —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- `POST /api/playlists/import?rutube_playlist_url=...&limit=100` ‚Üí { imported, updated, linked, playlist_id }

Channels:
- `GET  /api/channels` ‚Üí [{ id, title, avatar_url, videos_count }]
- `GET  /api/channels/{id}` ‚Üí { id, title, description, avatar_url }

Movies:
- `GET  /api/movies?playlistId=&channelId=&skip=0&limit=24&order=-channel_added_at`
- `GET  /api/movies/{id}`

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- –ü–∞—Ä–∞–º–µ—Ç—Ä `order`: `-channel_added_at` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–æ–≤—ã–µ –Ω–∞ –∫–∞–Ω–∞–ª–µ —Å–≤–µ—Ä—Ö—É)
- –û—Ç–≤–µ—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç channel_added_at –≤ ISO-8601 UTC

---

## 5. Frontend (UI/UX –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —ç–∫—Ä–∞–Ω–∞:
- –õ–µ–≤—ã–π —Å–∞–π–¥–±–∞—Ä (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π):
  - –°–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ (v-list)
  - –ü–æ–∏—Å–∫ –ø–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –ö–Ω–æ–ø–∫–∞ ¬´–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç¬ª (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥: –≤—Å—Ç–∞–≤–∫–∞ URL –ø–ª–µ–π–ª–∏—Å—Ç–∞ Rutube, —á–∏—Å–ª–æ –≤–∏–¥–µ–æ –¥–æ 100)
- –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ (toolbar/row):
  - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫/–∫–∞—Ä—É—Å–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ (v-chip-group –∏–ª–∏ v-slide-group) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ channelId
  - –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞ (¬´–í—Å–µ –∫–∞–Ω–∞–ª—ã¬ª)
- –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å:
  - –ì—Ä–∏–¥ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–∏–¥–µ–æ (v-container/v-row/v-col + v-card)
  - –ü–∞–≥–∏–Ω–∞—Ü–∏—è/–∏–Ω—Ñ–∏–Ω–∏—Ç-—Å–∫—Ä–æ–ª–ª
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –Ω–æ–≤—ã–µ –Ω–∞ –∫–∞–Ω–∞–ª–µ)

–ù–∞–≤–∏–≥–∞—Ü–∏—è/–º–∞—Ä—à—Ä—É—Ç—ã:
- `/playlists/:playlistId?channelId=:channelId`
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞/–∫–∞–Ω–∞–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å URL

–°–æ—Å—Ç–æ—è–Ω–∏–µ (Pinia):
- playlistsStore:
  - state: playlists[], selectedPlaylistId
  - actions: fetchPlaylists, selectPlaylist, importPlaylist
- channelsStore:
  - state: channels[], selectedChannelId
  - actions: fetchChannels, selectChannel
- videosStore:
  - state: videos[], pagination { skip, limit, hasMore }, loading
  - actions: fetchVideos({ playlistId, channelId, skip, limit, order })
  - —Å–±—Ä–æ—Å –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞/–∫–∞–Ω–∞–ª–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `SidebarPlaylists.vue` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- `TopChannelsBar.vue` ‚Äî —Å—Ç—Ä–æ–∫–∞ –∫–∞–Ω–∞–ª–æ–≤
- `VideoGrid.vue` ‚Äî –≥—Ä–∏–¥ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–∏–¥–µ–æ
- `PlaylistImportDialog.vue` ‚Äî –¥–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- `MovieCard.vue` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –≤–∏–¥–µ–æ (—É–∂–µ –µ—Å—Ç—å MovieList.vue ‚Äî –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å/–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)

–ö–∞—Ä—Ç–æ—á–∫–∞ –≤–∏–¥–µ–æ (MovieCard):
- –û–±–ª–æ–∂–∫–∞ (thumbnail)
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ß–∏–ø—ã: –≥–æ–¥, –∂–∞–Ω—Ä
- –ú–µ—Ç—Ä–∏–∫–∏: üëÅ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, üïê –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ –∫–∞–Ω–∞–ª–µ: üìÖ `formatDate(movie.channel_added_at)`
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ (–º–∏–Ω–∏-–∞–≤–∞—Ç–∞—Ä, tooltip)

–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å `GET /api/playlists` –∏ `GET /api/channels`
  - –í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω –≤ URL)
  - –ü–æ–¥–≥—Ä—É–∑–∏—Ç—å `GET /api/playlists/{id}/videos?channelId=...`

---

## 6. –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç —Å–ª–µ–≤–∞ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è URL –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –≤–∏–¥–µ–æ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –∫–∞–Ω–∞–ª —Å–≤–µ—Ä—Ö—É ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è URL, —Å–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–º–ø–æ—Ä—Ç ‚Üí –≤–≤–æ–¥–∏—Ç URL –ø–ª–µ–π–ª–∏—Å—Ç–∞ ‚Üí POST import ‚Üí –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ—Å—Ç/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –∏, –µ—Å–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –µ–≥–æ

---

## 7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –∏ –∫–∞–Ω–∞–ª–æ–≤ (Redis, TTL 5‚Äì10 –º–∏–Ω)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –≤–∏–¥–µ–æ (–ø–æ 24‚Äì36 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É), –ª–µ–Ω–∏–≤–æ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–∞—Ç—é—Ä (lazy)
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ë–î –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

---

## 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞: —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏/–∞–¥–º–∏–Ω—ã (–µ—Å–ª–∏ –±—É–¥–µ—Ç auth) –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å–∫—Ä—ã—Ç—ã–º —Ç–æ–∫–µ–Ω–æ–º env
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö URL, –∑–∞—â–∏—Ç–∞ –æ—Ç SSRF (—Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞ rutube.ru)
- –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–µ–º—É API, backoff –∏ —Ä–µ—Ç—Ä–∞–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–≥–æ–≤ –∏–º–ø–æ—Ä—Ç–∞ –∏ –æ—à–∏–±–æ–∫

---

## 9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

Backend:
- Unit: –ø–∞—Ä—Å–∏–Ω–≥ playlist_id –∏–∑ URL; –ø–∞—Ä—Å–∏–Ω–≥ created_ts ‚Üí channel_added_at (UTC); –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π upsert –ø–æ rutube_video_id
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ: POST /api/playlists/import —Å –º–æ–∫–∞–º–∏ Rutube API; –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö Channel/Movie/Playlist/playlist_movies
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ: –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å—Ö–µ–º –æ—Ç–≤–µ—Ç–æ–≤ API

Frontend:
- Unit: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã; –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–æ—Ä–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞/–∫–∞–Ω–∞–ª–∞; –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è URL
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ: SidebarPlaylists, TopChannelsBar, VideoGrid
- E2E: —Å—Ü–µ–Ω–∞—Ä–∏–π –≤—ã–±–æ—Ä–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞, —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∫–∞–Ω–∞–ª—É, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

---

## 10. –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–∏—Ç–µ—Ä–∞—Ü–∏–∏)

1) Backend ‚Äî –¥–∞–Ω–Ω—ã–µ –∏ API
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î: —Ç–∞–±–ª–∏—Ü—ã playlists, channels, playlist_movies; –ø–æ–ª—è –≤ movies (channel_id, rutube_video_id)
- CRUD/—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: playlists, channels, videos —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ò–º–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞: POST /api/playlists/import (limit=100)

2) Frontend ‚Äî UI/UX
- –°–∞–π–¥–±–∞—Ä –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤; –≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ –∫–∞–Ω–∞–ª–æ–≤
- –ì—Ä–∏–¥ –≤–∏–¥–µ–æ; —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å URL
- –î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞

3) –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω–¥–µ–∫—Å—ã
- –¢–µ—Å—Ç—ã backend/frontend
- –ü–æ–ª–∏—Ä–æ–≤–∫–∞ UX (—Å–∫–µ–ª–µ—Ç–æ–Ω—ã, –ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—à–∏–±–∫–∏)

---

## 11. –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

- Backend (–º–æ–¥–µ–ª–∏, –º–∏–≥—Ä–∞—Ü–∏–∏, –∏–º–ø–æ—Ä—Ç–µ—Ä, —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã): 1.5‚Äì2.5 –¥–Ω—è
- Frontend (UI/—Å—Ç–æ—Ä—ã/–º–∞—Ä—à—Ä—É—Ç—ã/—Å–µ—Ä–≤–∏—Å—ã): 1‚Äì1.5 –¥–Ω—è
- –¢–µ—Å—Ç—ã –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è: 0.5‚Äì1 –¥–µ–Ω—å

---

## 12. –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã/—Ä–µ—à–∏—Ç—å –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –¢–æ—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç Rutube –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤: –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ —Å–µ—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏/–∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –õ–∏–º–∏—Ç—ã page_size: –µ—Å–ª–∏ –º–∞–∫—Å–∏–º—É–º –º–µ–Ω—å—à–µ 100 ‚Äî –¥–æ–±–∏—Ä–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞ (–º–∏–Ω–∏–º—É–º ‚Äî —Å–µ–∫—Ä–µ—Ç/—Ç–æ–∫–µ–Ω –∏–∑ env)
- –ù—É–∂–Ω–∞ –ª–∏ ¬´–≥–ª–æ–±–∞–ª—å–Ω–∞—è¬ª –≤–∫–ª–∞–¥–∫–∞ ¬´–í—Å–µ –≤–∏–¥–µ–æ¬ª, –Ω–µ –∑–∞–≤–∏—Å—è—â–∞—è –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞, —Å —Ç–µ–º –∂–µ —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –∫–∞–Ω–∞–ª–∞–º?

